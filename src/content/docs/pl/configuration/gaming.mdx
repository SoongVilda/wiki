---
title: Przewodnik po graniu w CachyOS
description: 'Obejmuje instalację niezbędnych pakietów, granie na Steam z Protonem, różne opcje wersji Protona, Lutris jako centralne miejsce dla wszystkich gier oraz instalatory skryptowe dla popularnych gier.'
---

import MultipleImageComponent from '~/components/multiple-images-component.astro';
import { Tabs, TabItem, Steps } from '@astrojs/starlight/components';

Witamy w przewodniku po graniu w CachyOS. Przeprowadzimy Cię przez podstawowe aspekty konfiguracji wszystkiego, aby zapewnić wspaniałe wrażenia.

## Wymagania wstępne

:::caution
Zanim przejdziemy do zabawy, kluczowe jest upewnienie się, że sterowniki karty graficznej są zainstalowane i działają poprawnie. Jeśli karta graficzna nie działa optymalnie, możesz napotkać problemy podczas grania.
:::

### Niezbędne pakiety

Aby ułatwić Ci zadanie, CachyOS zgrupował wszystkie niezbędne pakiety do gier w jeden metapakiet, który zawiera wszystkie potrzebne zależności i biblioteki do grania w Linuksie, oraz osobny pakiet z narzędziami i launcherami/sklepami. Dzięki temu proces instalacji i konfiguracji gier jest szybszy i mniej skomplikowany dla wszystkich.

*Jeśli zauważysz brak jakichkolwiek pakietów, daj znać zespołowi CachyOS.*

Postępuj zgodnie z poniższymi krokami, aby rozpocząć konfigurację gier.
<Tabs>
    <TabItem label='Metapakiet'>
        ```sh
        sudo pacman -S cachyos-gaming-meta
        ```
    </TabItem>
    <TabItem label='Narzędzia i Sklepy'>
        *Ten pakiet zawiera:*
            - Gamescope, Goverlay, Heroic Games Launcher, Lutris, MangoHud oraz Steam.
        ```sh
        sudo pacman -S cachyos-gaming-applications
        ```
    </TabItem>
    <TabItem label= 'CachyOS Hello'>
    - Przejdź do **Aplikacje/Ustawienia** i kliknij `Zainstaluj pakiety do gier`

    *CachyOS Hello instaluje oba pakiety: `cachyos-gaming-meta` i `cachyos-gaming-applications`*
    </TabItem>
</Tabs>

## Steam

Dla użytkowników Steam granie na CachyOS jest dziecinnie proste! Otwórz Steam i postępuj zgodnie z [przewodnikiem Proton](/pl/configuration/gaming#jak-włączyć-wsparcie-proton-w-steam), a będziesz gotowy do cieszenia się grami.

:::note
Użytkownicy laptopów z dedykowanymi kartami graficznymi NVIDIA powinni zapoznać się z następującym [przewodnikiem](https://wiki.cachyos.org/configuration/dual_gpu/)
:::

### Jak włączyć wsparcie Proton w Steam

<br />
<MultipleImageComponent
  images={[
    import('~/assets/images/Steam1_Screenshot_20230907_071249.png'),
    import('~/assets/images/Steam2_Screenshot_20230907_071521.png'),
    import('~/assets/images/Steam3_Screenshot_20230907_072849.png'),
    import('~/assets/images/Steam4_Screenshot_20230907_072236.png')
  ]}
/>

:::tip
CachyOS dostarcza różne wersje Protona, które budujemy i utrzymujemy w celu dalszej poprawy wydajności:
- `proton-cachyos` `(zawarty w pakiecie cachyos-gaming-meta)` - wersja, którą rozwijamy, z dodanymi zmianami QoL + wybranymi łatkami + optymalizacjami kompilacji `(x86-64-v3 & x86-64-v4)`
- `proton-ge-custom`, `proton-tkg-git`, `proton-experimental` oraz `stabilne wydania protona` są kompilowane z natywnymi bibliotekami.
- `proton-ge-custom-bin` pobierany z AUR.
:::

:::tip
Aby sprawdzić, czy Twoja gra jest kompatybilna lub jak działa pod Linuksem, odwiedź [proton-db](https://www.protondb.com/) lub [Are We Anti-Cheat Yet?](https://areweanticheatyet.com/).
:::

## Steam FAQ i Wskazówki

### Której wersji Protona powinienem używać w Steam?

- [`proton-cachyos`](https://github.com/CachyOS/proton-cachyos) Jest to wersja, którą budujemy i utrzymujemy, dlatego jest wysoce zalecana, chyba że występuje problem z grą, w którą chcesz zagrać. Powinna działać w większości przypadków.
- `Proton Experimental` Najnowsze wydanie od `Valve`. Jeśli gra, w którą chcesz zagrać, jest stosunkowo nowa lub nie działa dobrze z obecnym stabilnym wydaniem Protona, lub być może widziałeś, że ludzie polecają ją na [ProtonDB](https://www.protondb.com/).
- `Proton 9.0.4 lub starszy` Stabilne wydania od `Valve`. Jeśli gra, w którą chcesz zagrać, działa tylko w poprzednim wydaniu Protona.
- `Proton-GE` Wersja stworzona przez [GloriousEggroll](https://github.com/GloriousEggroll/proton-ge-custom), w niektórych przypadkach jest przydatna.

### Jak poprawnie ustawić wiele opcji uruchamiania
Opcje uruchamiania w Steam są konstruowane według następującego wzorca:
- `<zmienne środowiskowe> <wrappery> %command% <argumenty aplikacji>`
    - `<zmienne środowiskowe>`: Są to opcje w formie `ZMIENNA=wartość`. Na przykład `PROTON_DXVK_D3D8=1` lub `DXVK_HUD="fps,memory,version,api"`
    - `<wrappery>`: Aplikacje i skrypty modyfikujące sposób uruchamiania rzeczywistej aplikacji. Argumenty dla wrappera zwykle umieszcza się po jego pliku wykonywalnym. Na przykład `mangohud --dlsym` lub `gamescope -W 1680 -H 1050 -w 1280 -h 720 -S fit -F fsr --mangoapp --`
    - `%command%`: To jest rzeczywista aplikacja. Należy to podać dokładnie w tej formie, a Steam zastąpi to odpowiednim poleceniem podczas uruchamiania aplikacji.
    - `<argumenty aplikacji>`: Są to różne argumenty dla rzeczywistej aplikacji, zależne od niej. Na przykład `-dx11` powinno znaleźć się tutaj, jeśli aplikacja to obsługuje.

- Przykład: `__GL_SHADER_DISK_CACHE_SKIP_CLEANUP=1 prime-run game-performance %command% -dx11`

:::caution
Nie dodawaj wielokrotnie `%command%`, używając go jako separatora dla wielu opcji uruchamiania.

Przykład: `__GL_SHADER_DISK_CACHE_SKIP_CLEANUP=1 %command% game-performance %command% prime-run %command%`
    - W tym przypadku wszystko po pierwszym `%command%` zostanie zignorowane, ponieważ jest traktowane jako argumenty gry, dlatego tylko `__GL_SHADER_DISK_CACHE_SKIP_CLEANUP=1` zostało rozpoznane jako opcja uruchamiania.
:::

### Napraw zacinanie się spowodowane funkcją nagrywania gier w Steam

```sh title='Dodaj następującą opcję uruchamiania do swojej gry'
LD_PRELOAD="" %command%
```

## Wskazówki dotyczące wydajności

### Przełączanie profilu zasilania na żądanie

:::note
To zachowanie jest nieco inne w przypadku `intel_pstate`. Na procesorach Intela zarządca pozostaje ustawiony na powersave, ale wartości EPP/EPB są ustawiane na performance.
:::

CachyOS dostarcza skrypt opakowujący [`game-performance`](https://github.com/CachyOS/CachyOS-Settings/blob/master/usr/bin/game-performance),
który używa `power-profiles-daemon` do tymczasowego przełączenia bieżącego profilu zasilania na `performance`.
Profil `performance` zwiększa poziomy mocy systemu i zmienia zarządcę procesora na `performance`.

Gdy ten skrypt jest używany do uruchomienia gry, system będzie ustawiony na profil `performance` tak długo, jak gra jest uruchomiona.
Poprzednio używany profil zasilania zostanie przywrócony po zamknięciu gry.

*[GameMode Feral](https://github.com/FeralInteractive/gamemode)
ma podobne zachowanie, ale nie powinien być używany, ponieważ CachyOS jest już dostarczany z [`ananicy-cpp`](https://gitlab.com/ananicy-cpp/ananicy-cpp)*

### Jak dodać game-performance do Steam, Lutris i Heroic Games Launcher

<Tabs>

<TabItem label='Steam'>

<Steps>
1. Otwórz swoją `Bibliotekę Steam`
2. Kliknij prawym przyciskiem myszy na tytuł gry i wybierz `Właściwości`.
3. W zakładce `Ogólne` znajdziesz sekcję `Opcje Uruchamiania`.
4. Dodaj następującą opcję uruchamiania:
    ```sh
    game-performance %command%
    ```
</Steps>

</TabItem>

<TabItem label='Heroic Games Launcher'>

<Steps>
1. W lewym panelu otwórz `Ustawienia`.
2. Przejdź do `Domyślne ustawienia gier`, a następnie kliknij `Zaawansowane`.
3. W sekcji polecenia `wrappera`. Dodaj następującą linię bez żadnych argumentów:
   ```sh
   game-performance
   ```
4. Kliknij znak `+`, aby zapisać zmiany.
</Steps>

</TabItem>

<TabItem label='Lutris'>

<Steps>
1. W prawym górnym rogu otwórz `menu hamburgerowe`
2. Przejdź do `Preferencje/Opcje globalne`.
3. Włącz `Tryb zaawansowany` w prawym górnym rogu.
4. Przewiń w dół do `Prefiks polecenia` i dodaj następującą linię:
   ```sh
   game-performance
   ```
5. Zapisz zmiany.
</Steps>

</TabItem>

</Tabs>

## Proton-CachyOS

Proton-CachyOS bazuje na gałęzi `bleeding-edge` Protona i wprowadza szereg modyfikacji.
- **Patche Wine-staging**
- **Wine Fullscreen FSR**
- **Zawiera kodeki wideo i audio dla przerywników filmowych w grach**
- **Wsparcie dla `umu-launcher` w tym UMU-Protonfixes**
- **Dodaje wczesne poprawki/obejścia dla gier**

:::note
Pakiet `proton-cachyos` z repozytoriów CachyOS jest kompilowany z natywnymi bibliotekami systemowymi, nie używa Steam Linux Runtime. Architektura docelowa zależy od repozytorium. Obecnie repozytoria `x86_64_v3`, `x86_64_v4` i `znver4` używają tych samych binariów `x86_64_v3`.
:::

:::caution
Jeśli napotkasz problemy z grami używającymi **Easy Anti-Cheat** (EAC) lub **BattlEye** (BE), na przykład odmowę zalogowania się na serwery gry, możesz użyć wersji [Proton-CachyOS zbudowanej przy użyciu Steam Linux Runtime](https://github.com/CachyOS/proton-cachyos/releases)
:::

**Dodatkowe opcje konfiguracji**

- `PROTON_NO_WM_DECORATION=1`: Wyłącza dekoracje okien używając menedżera okien Linuksa. Może naprawić problemy z **pełnym ekranem bez ramek** i klikaniem myszą "przez" okno.
- `PROTON_PREFER_SDL_INPUT=1`: Włącz, aby obejść problemy z prawidłowym wykrywaniem kontrolera.

### Konfiguracja umu-launcher

:::note
Upewnij się, że masz zainstalowany umu-launcher z CachyOS w systemie. Zainstaluj go za pomocą następującego polecenia:
`sudo pacman -S cachyos/umu-launcher`

Nie zapomnij dodać zmiennej środowiskowej `UMU_NO_RUNTIME`
:::

<Tabs>
    <TabItem label='Lutris Globalnie'>
    <Steps>
    1. Na głównym ekranie Lutris kliknij `koło zębate` po prawej stronie **Wine**
    2. Wprowadź następujące zmiany w zakładce **Opcje Runnera**
        - **Wersja Wine** = `proton-cachyos`
        - **Użyj systemowego winetricks** = *Wyłączone*
        - **Grafika**
            - **Włącz DXVK** = `Włączone`
            - **Włącz VKD3D** = `Włączone`
            - **Włącz D3D Extras** = `Włączone`
            - **Włącz DXVK-NVAPI / DLSS** = `Włączone`
            - Zdefiniowane przez użytkownika wersje **DXVK**, **VKD3D** i **DXVK-NVAPI** nie są stosowane podczas używania `umu-launcher`
    3. Przejdź do zakładki **Opcje systemowe**
        - **Lutris**
            - **Wyłącz Lutris Runtime** = `Włączone`
            - **Preferuj biblioteki systemowe** = `Włączone`
    4. Przewiń w dół do **Wykonywanie gry** i znajdź tabelę **Zmienne środowiskowe**
    5. Dodaj następujące zmienne środowiskowe:
        - **Klucz**: `UMU_NO_RUNTIME`
            - **Wartość**: `1` *używa bibliotek systemowych zamiast steam runtime, tylko dla proton-cachyos*
        - **Klucz**: `UMU_RUNTIME_UPDATE` *opcjonalnie*
            - **Wartość**: `0` *pomija aktualizacje Steam Linux Runtime dla `proton-cachyos`*
        - **Klucz**: `PROTON_VERB` *opcjonalnie*
            - **Wartość**: `waitforexitandrun` *pozwala protonfixes działać z odpowiednim `GAMEID`*
    6. Zapisz zmiany.
    </Steps>
    </TabItem>
    <TabItem label='Lutris dla Pojedynczej Gry'>
    <Steps>
    1. Kliknij prawym przyciskiem myszy na grę, którą chcesz skonfigurować, a następnie kliknij **Konfiguruj**
    2. Wprowadź następujące zmiany w zakładce **Opcje Runnera**
        - **Wersja Wine** = `proton-cachyos`
        - **Użyj systemowego winetricks** = *Wyłączone*
        - **Grafika**
            - **Włącz DXVK** = `Włączone`
            - **Włącz VKD3D** = `Włączone`
            - **Włącz D3D Extras** = `Włączone`
            - **Włącz DXVK-NVAPI / DLSS** = `Włączone`
            - Zdefiniowane przez użytkownika wersje **DXVK**, **VKD3D** i **DXVK-NVAPI** nie są stosowane podczas używania `umu-launcher`
    3. Przejdź do zakładki **Opcje systemowe**
        - **Lutris**
            - **Wyłącz Lutris Runtime** = `Włączone`
            - **Preferuj biblioteki systemowe** = `Włączone`
    4. Przewiń w dół do **Wykonywanie gry** i znajdź tabelę **Zmienne środowiskowe**
    5. Dodaj następujące zmienne środowiskowe:
        - **Klucz**: `UMU_NO_RUNTIME`
            - **Wartość**: `1` *jeśli używasz umu-launcher `1.1.4` z CachyOS*
        - **Klucz**: `UMU_RUNTIME_UPDATE` *opcjonalnie*
            - **Wartość**: `0` *pomija aktualizacje Steam Linux Runtime dla `proton-cachyos`*
        - **Klucz**: `PROTON_VERB` *opcjonalnie*
            - **Wartość**: `waitforexitandrun` *pozwala protonfixes działać z odpowiednim `GAMEID`*
    6. Zapisz zmiany.
    </Steps>
    </TabItem>
    <TabItem label='Heroic Games Launcher'>
        <Steps>
            1. Kliknij przycisk `Konfiguruj` obok przycisku `Graj teraz` w grze, którą chcesz uruchomić.
            2. W zakładce `WINE`. Ustaw Wersję Wine na `Proton - proton-cachyos`.
            3. Przejdź do `Zaawansowane`. Przewiń w dół do `Zmienne środowiskowe`
            4. Dodaj `UMU_NO_RUNTIME` w Nazwie zmiennej z wartością `1` i kliknij znak plusa.
        </Steps>
    </TabItem>
</Tabs>

## Wine-CachyOS

To jest to samo `wine`, które stanowi rdzeń `proton-cachyos`, ale jako samodzielny pakiet, który może być używany w Lutris, Heroic, Bottles i innych.

- **Wszystkie modyfikacje Wine zawarte w Proton-CachyOS**
- **Dodaje wczesne poprawki/obejścia dla gier**

:::note
W repozytoriach CachyOS **Wine-CachyOS** jest oferowane przez dwa różne pakiety. `wine-cachyos` instaluje je jako domyślne systemowe Wine i zastępuje `wine` lub `wine-staging`. `wine-cachyos-opt` instaluje je w innej lokalizacji, co pozwala na współistnienie wielu wersji Wine w systemie.
:::

:::caution
Głównym przeznaczeniem **Wine-CachyOS** jest **granie**. Chociaż może być używane jako systemowe Wine z aplikacjami desktopowymi, należy pamiętać, że może to prowadzić do nieoczekiwanego zachowania i problemów ze względu na modyfikacje skoncentrowane na grach.

Jeśli chcesz używać aplikacji desktopowych, sugerujemy użycie `wine` lub `wine-staging` jako systemowego Wine i zainstalowanie `wine-cachyos-opt` do gier.
:::

**Dodatkowe opcje konfiguracji**

- `WINE_WMCLASS="<nazwa>"`: Ustawia `WM_CLASS` wszystkich okien Wine, pozwalając menedżerowi okien kontrolować okna Wine za pomocą reguł.
- `WINEUSERSANDBOX=1`: Wyłącza tworzenie dowiązań symbolicznych z folderów użytkownika Wine, takich jak Dokumenty/Obrazy, do odpowiednich folderów w katalogu `HOME` użytkownika.
- `WINE_NO_WM_DECORATION=1`: Wyłącza dekoracje okien używając menedżera okien Linuksa. Może naprawić problemy z **pełnym ekranem bez ramek** i klikaniem myszą "przez" okno.
- `WINE_PREFER_SDL_INPUT=1`: Włącz, aby obejść problemy z prawidłowym wykrywaniem kontrolera.

### Jak używać wine-cachyos-opt

<Tabs>
    <TabItem label='Samodzielnie'>
    Normalnie uruchomienie `/opt/wine-cachyos/bin/wine` zamiast po prostu `wine` powinno wystarczyć, aby aplikacja działała przy użyciu `wine-cachyos-opt`.

    Jeśli wymagana jest bardziej ścisła konfiguracja, może ona wyglądać tak:
    ```shell
    export PATH="/opt/wine-cachyos/bin/:$PATH"
    export WINEDLLPATH="/opt/wine-cachyos/lib/wine:/opt/wine-cachyos/lib32/wine:$WINEDLLPATH"
    export LD_LIBRARY_PATH="/opt/wine-cachyos/lib/:/opt/wine-cachyos/lib32/:$LD_LIBRARY_PATH"
    ```

    Jeśli chcesz używać `winetricks` z `wine-cachyos-opt`, możesz je wywołać w ten sposób:
    ```shell
    WINE=/opt/wine-cachyos/bin/wine WINEPRFIX=<twój prefiks> winetricks <verb>
    ```
    </TabItem>
    <TabItem label='Lutris'>
      :::note
      Drugi obrazek dotyczy również konfiguracji dla pojedynczej gry.
      :::
      <MultipleImageComponent
      images={[
      import('~/assets/images/lutris-guide-1.png'),
      import('~/assets/images/lutris-guide-2.png')]}
      />
    </TabItem>
    <TabItem label='Heroic Games Launcher'>
      <MultipleImageComponent
      images={[
      import('~/assets/images/heroic-wine.png'),
      import('~/assets/images/heroic-wine-2.png'),
      import('~/assets/images/heroic-wine-3.png')]}
      />
    </TabItem>
</Tabs>

## Bottles

Bottles to aplikacja, która pozwala łatwo zarządzać prefiksami Windows na Twoich ulubionych dystrybucjach Linuksa.

Bottles może również korzystać z różnych runnerów, takich jak Lutris, i wszystkie są zarządzalne w ramach aplikacji. Bottles oferuje opcję prefiksu zorientowanego na gry.

Możesz również instalować zależności, dodawać pliki EXE i używać ich instalatorów jednym kliknięciem dla aplikacji związanych z grami, takich jak EA App czy Battle.net.

```sh title="Jak zainstalować Bottles"
# Otwórz terminal i uruchom następujące polecenie:
sudo pacman -S bottles
```

*Jeśli chcesz dowiedzieć się więcej, sprawdź ich [dokumentację](https://docs.usebottles.com/).*

## Wprowadzenie do Lutris i Wskazówki

Lutris służy jako centralne miejsce dla wszystkich Twoich gier na CachyOS.

Dzięki Lutris możesz efektywnie zarządzać runnerami gier, w tym Wine, Proton i emulatorami.

- **Możesz uruchamiać gry przez Lutris, po prostu klikając przycisk `Graj`.**
- **Dodaj dowolną grę, klikając znak `+` w lewym górnym rogu.**
- **Skonfiguruj sklep w sekcji `Źródła` w lewym panelu i połącz swoje konto, co spowoduje instalację danego sklepu, a następnie będziesz mógł uruchamiać gry z poziomu sklepu, tak jak w systemie Windows.**
- **I wiele więcej!**

### Sklepy z grami obsługiwane w Lutris

- [EA App](https://lutris.net/games/ea-app/)
- [Epic Games Store](https://lutris.net/games/epic-games-store/)
- [GOG Galaxy](https://lutris.net/games/gog-galaxy/)
- [Steam](https://lutris.net/games/steam/)
- [Ubisoft Connect](https://lutris.net/games/ubisoft-connect/)

### Dodawanie parametru do gry

- Kliknij prawym przyciskiem myszy na ikonę gry > `Konfiguruj` > `Opcje gry` > `Argumenty` > Dodaj dowolny potrzebny argument.

## Wsparcie dla Ray Tracingu
Arch Wiki już dostarcza kompleksowych instrukcji, jak włączyć [ray tracing](https://wiki.archlinux.org/title/Hardware_raytracing) dla różnych platform sprzętowych.
- [Ray tracing na NVIDIA](https://wiki.archlinux.org/title/Hardware_raytracing#NVIDIA)
- [Ray tracing na AMD](https://wiki.archlinux.org/title/Hardware_raytracing#AMD)
- [Ray tracing na Intel](https://wiki.archlinux.org/title/Hardware_raytracing#Intel)

**Dzięki temu przewodnikowi jesteś teraz gotowy do rozpoczęcia grania na CachyOS. Miłej zabawy!**
