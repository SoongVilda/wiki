---
title: Jak zainstalować CachyOS i przewodnik po partycjonowaniu
description: Instalacja z wymazaniem dysku
---

import { Steps, Tabs, TabItem } from '@astrojs/starlight/components';

:::caution
Bezpieczny rozruch (Secure boot) musi być wyłączony podczas instalacji CachyOS. Aby skonfigurować bezpieczny rozruch po instalacji, sprawdź [Konfiguracja bezpiecznego rozruchu](/pl/configuration/secure_boot_setup).
:::

:::tip
Zdecydowanie zaleca się ponowne uruchomienie obrazu ISO po nieudanej próbie instalacji.

W przeciwnym razie podczas procesu instalacji mogą występować ciągłe błędy.

Dzieje się tak, ponieważ instalator nie odmontowuje poprawnie partycji po nieudanej instalacji.

:::

## Wymaż dysk

Opcja "Wymaż dysk" w Calamares wyczyści wybrany dysk i zainstaluje CachyOS na docelowym nośniku.

<Steps>

1. Uruchom system z obrazu ISO i kliknij **Uruchom instalator**.

2. Wybierz preferowany **Menedżer rozruchu**. Sprawdź sekcję [Menedżery rozruchu](/pl/installation/boot_managers), aby uzyskać więcej informacji.

3. Ustaw preferowany **Język** oraz **Region/Strefę czasową**.

4. Skonfiguruj **Układ klawiatury**.

5. Wybierz **Wymaż dysk** i wybierz [System plików](/pl/installation/filesystem).

6. Wybierz preferowane **Środowisko graficzne**, zobacz [Środowiska graficzne](/pl/installation/desktop_environments).

7. Dostosuj, które pakiety powinny lub nie powinny być instalowane podczas procesu instalacji.

8. Ustaw dane logowania.

9. Dokładnie przejrzyj podsumowanie instalacji na stronie Przegląd. Kontynuuj instalację, klikając ***Zainstaluj teraz***, jeśli wszystko wygląda poprawnie. W przeciwnym razie wróć i wprowadź niezbędne zmiany.

</Steps>

## Ręczne partycjonowanie

### UEFI/GPT

Tablica partycji różni się w zależności od menedżera rozruchu. Postępuj zgodnie z odpowiednimi instrukcjami dla każdego z nich.

<Tabs>

<TabItem label='systemd-boot & rEFInd & Limine'>

<Steps>

1. Uruchom system z obrazu ISO i kliknij przycisk **Uruchom instalator**.

2. Ustaw preferowany **Język** oraz **Region/Strefę czasową**.

3. Skonfiguruj **Układ klawiatury**.

4. Wybierz **Ręczne partycjonowanie**.

5. Utwórz nową partycję z następującymi ustawieniami:
    * Rozmiar: ***2048MiB***
    * System plików: ***FAT32***
    * Punkt montowania: ***/boot***
    * Flagi: **boot**

6. Utwórz kolejną partycję dla ***systemu głównego (root)***:
    * Rozmiar: ***Co najmniej 20000MiB***
    * System plików: Dowolny, zobacz [System plików](/pl/installation/filesystem)
    * Punkt montowania: ***/***
    * Flagi:

7. Sprawdź dokładnie, czy opcja ***Zainstaluj program rozruchowy na:*** wskazuje na /boot

8. Wybierz preferowane **Środowisko graficzne**, zobacz [Środowiska graficzne](/pl/installation/desktop_environments).

9. Dostosuj, które pakiety powinny lub nie powinny być instalowane podczas procesu instalacji.

10. Ustaw dane logowania.

11. Dokładnie przejrzyj podsumowanie instalacji na stronie Przegląd. Kontynuuj instalację, klikając ***Zainstaluj teraz***, jeśli wszystko wygląda poprawnie. W przeciwnym razie wróć i wprowadź niezbędne zmiany.

</Steps>

</TabItem>

<TabItem label='GRUB'>

<Steps>

1. Uruchom system z obrazu ISO i kliknij przycisk **Uruchom instalator**.

2. Ustaw preferowany **Język** oraz **Region/Strefę czasową**.

3. Skonfiguruj **Układ klawiatury**.

4. Wybierz **Ręczne partycjonowanie**.

5. Utwórz nową partycję z następującymi ustawieniami:
    * Rozmiar: ***Co najmniej 100MiB***
    * System plików: ***FAT32***
    * Punkt montowania: ***/boot/efi***
    * Flagi: **boot**

6. Utwórz kolejną partycję dla ***systemu głównego (root)***:
    * Rozmiar: ***Co najmniej 20000MiB***
    * System plików: Dowolny, zobacz [System plików](/pl/installation/filesystem)
    * Punkt montowania: ***/***
    * Flagi:

7. Sprawdź dokładnie, czy opcja ***Zainstaluj program rozruchowy na:*** wskazuje na /boot/efi

8. Wybierz preferowane **Środowisko graficzne**, zobacz [Środowiska graficzne](/pl/installation/desktop_environments).

9. Dostosuj, które pakiety powinny lub nie powinny być instalowane podczas procesu instalacji.

10. Ustaw dane logowania.

11. Dokładnie przejrzyj podsumowanie instalacji na stronie Przegląd. Kontynuuj instalację, klikając ***Zainstaluj teraz***, jeśli wszystko wygląda poprawnie. W przeciwnym razie wróć i wprowadź niezbędne zmiany.

</Steps>

</TabItem>

</Tabs>

### MBR/BIOS

:::note
GRUB jest jedynym dostępnym menedżerem rozruchu dla systemu MBR/BIOS.
:::

<Steps>

1. Uruchom system z obrazu ISO i kliknij przycisk **Uruchom instalator**.

2. Ustaw preferowany **Język** oraz **Region/Strefę czasową**.

3. Skonfiguruj **Układ klawiatury**.

4. Wybierz **Ręczne partycjonowanie**.

5. Utwórz nową partycję z następującymi ustawieniami:
    * Rozmiar: ***Co najmniej 20000MiB***
    * System plików: Dowolny, zobacz [System plików](/pl/installation/filesystem)
    * Punkt montowania: ***/***
    * Flagi:

6. Sprawdź dokładnie, czy opcja ***Zainstaluj program rozruchowy na:*** wskazuje na twój dysk rozruchowy, np. /dev/sda

7. Wybierz **Środowisko graficzne**, którego chcesz używać, zobacz [Środowiska graficzne](/pl/installation/desktop_environments).

8. Wybierz konkretne pakiety, które chcesz zainstalować z podanej listy, i odznacz te, których nie potrzebujesz.

9. Ustaw swoje dane logowania.

10. Dokładnie przejrzyj podsumowanie instalacji na stronie Przegląd. Jeśli wszystkie ustawienia wyglądają dla ciebie poprawnie, kontynuuj instalację, klikając ***Zainstaluj teraz***. W przeciwnym razie wróć i wprowadź niezbędne zmiany.

</Steps>

## Dual Boot / Podwójne uruchamianie

*Po ręcznym partycjonowaniu może być wymagana dodatkowa konfiguracja w celu ustawienia systemu dual boot, zwłaszcza w przypadku `systemd-boot` i `GRUB`.*

<Tabs>
    <TabItem label='systemd-boot'>
        *Musimy skopiować pliki binarne Windows EFI na partycję Linux EFI, aby menedżer rozruchu mógł je rozpoznać.*

        <Steps>
        1. Zlokalizuj `partycję Windows EFI` za pomocą `lsblk`

            ```sh title='Przykład'
            ❯ lsblk -o NAME,FSTYPE,SIZE,MOUNTPOINT
            NAME        FSTYPE   SIZE MOUNTPOINT
            zram0               15.3G [SWAP]
            nvme0n1            476.9G
            ├─nvme0n1p1 vfat     100M
            ├─nvme0n1p2           16M
            ├─nvme0n1p3 ntfs   234.4G
            ├─nvme0n1p4 ntfs     830M
            ├─nvme0n1p5 vfat       2G /boot
            └─nvme0n1p6 btrfs  239.6G /var/tmp
            ```

            *Partycje EFI są prawie zawsze sformatowane jako `FAT32/vfat`, a ponieważ nvme0n1p1 nie ma punktu montowania Linuksa, załóżmy, że ta partycja jest `partycją Windows EFI`.*

        2. Tymczasowo zamontuj `partycję Windows EFI`.

            ```sh
            ❯ sudo mount /dev/nvme0n1p1 /mnt/WinBoot # Zastąp `nvme0n1p1` partycją EFI systemu Windows
            ```

        3. Skopiuj pliki binarne EFI z `partycji Windows EFI` na `partycję Linux EFI`.

            ```sh
            ❯ sudo cp -r /mnt/WinBoot/EFI/* /boot/EFI
            ```

        4. Odmontuj wcześniej zamontowaną partycję, a system Windows powinien pojawić się w menu rozruchowym przy następnym uruchomieniu.

            ```sh
            ❯ sudo umount /mnt/WinBoot
            ```

        </Steps>
    </TabItem>

    <TabItem label='GRUB'>
        *GRUB używa os-prober do automatycznego wykrywania partycji Windows EFI i dodawania jej do menu rozruchowego.*

        <Steps>
        1. Zainstaluj i uruchom `os-prober`

            ```sh
            ❯ sudo pacman -S os-prober
            ❯ sudo os-prober
            ```

        2. Włącz `os-prober` w pliku konfiguracyjnym GRUB

            ```sh title='Naciśnij CTRL+S, aby zapisać i CTRL+Q, aby wyjść z Micro'
            ❯ sudo micro /etc/default/grub
            # /etc/default/grub
            # Probing for other operating systems is disabled for security reasons. Read
            # documentation on GRUB_DISABLE_OS_PROBER, if still want to enable this
            # functionality install os-prober and uncomment to detect and include other
            # operating systems.
            GRUB_DISABLE_OS_PROBER=false

            ❯ sudo grub-mkconfig -o /boot/grub/grub.cfg
            ```

            **System Windows powinien teraz zostać dodany do menu rozruchowego.**

        </Steps>
    </TabItem>
</Tabs>

## Więcej informacji

- [Przewodnik instalacji dual boot Lorda Vexy'ego z menedżerem rozruchu rEFInd](https://www.youtube.com/watch?v=0Toaq3Vn5qs)
